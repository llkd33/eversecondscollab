# 구현 작업 목록

## 🔥 **즉시 실행 필요 (현재 상태 기반)**

- [ ] **1. 인증 시스템 실제 연동** ⭐ **최우선**
  - [ ] 1.1 카카오 로그인 실제 연동
    - 카카오 SDK 설정 완료 및 실제 로그인 플로우 구현
    - 카카오에서 받은 사용자 정보를 Supabase users 테이블에 저장
    - AuthProvider의 Mock 데이터를 실제 카카오 API 연동으로 변경
    - _요구사항: 1.1, 1.4, 1.5_

  - [ ] 1.2 SMS 인증 시스템 구현
    - SMS 서비스 API 연동 (현재 테스트 코드만 존재)
    - 핸드폰 번호 입력 → 인증번호 발송 → 검증 플로우 완성
    - 전화번호 중복 가입 방지 로직 구현
    - _요구사항: 1.2, 1.3_

- [x] **2. 상품 데이터 실제 연동** ⭐ **최우선**
  - [x] 2.1 ProductProvider Mock 데이터 제거
    - ProductProvider의 하드코딩된 Mock 데이터를 실제 Supabase 연동으로 변경
    - ProductService의 CRUD 메서드를 실제 Supabase API 호출로 구현
    - 상품 이미지 업로드를 Supabase Storage 연동으로 변경
    - _요구사항: 2.1, 2.2, 2.3_

  - [x] 2.2 상품 등록/수정 기능 완성
    - ProductCreateScreen의 실제 상품 등록 기능 구현
    - 이미지 업로드 및 미리보기 기능 완성
    - 대신팔기 옵션 설정 로직 구현
    - _요구사항: 2.1, 2.2_

- [x] **3. 실시간 채팅 시스템 구현** ⭐ **핵심 기능**
  - [x] 3.1 채팅 기본 기능 구현
    - ChatService의 실제 Supabase Realtime 연동
    - 채팅방 생성 및 메시지 전송/수신 기능 구현
    - ChatRoomScreen과 ChatListScreen의 실제 데이터 연동
    - _요구사항: 5.1, 5.5_

  - [x] 3.2 안전거래 연동 UI 구현
    - 채팅방 상단에 안전거래/일반거래 선택 버튼 추가
    - 법인계좌 안내 및 입금확인 요청 버튼 구현
    - 대신판매 거래 표시 로직 구현
    - _요구사항: 5.2, 5.3, 3.4_

## 🚀 **단계별 구현 계획**

### Phase 1: 기본 기능 완성 (1-2주)

- [x] **4. 사용자 세션 관리 구현**
  - [x] 4.1 로그인 상태 유지 및 자동 로그인
    - Supabase Auth 세션 관리 구현
    - 앱 재시작 시 자동 로그인 기능
    - 로그아웃 및 세션 만료 처리
    - _요구사항: 1.1_

  - [x] 4.2 AuthGuard 및 라우팅 보안
    - 로그인이 필요한 페이지 접근 제어
    - 미인증 사용자 리다이렉트 처리
    - 권한별 페이지 접근 제어 (일반/관리자)
    - _요구사항: 1.5_

- [x] **5. 홈화면 실제 데이터 연동**
  - [x] 5.1 상품 리스트 실제 데이터 표시
    - HomeScreen의 Mock 데이터를 실제 Supabase 데이터로 변경
    - 카테고리 필터링 및 검색 기능 구현
    - 최신순 정렬 및 페이지네이션 구현
    - _요구사항: 4.1, 4.2, 4.5_

  - [x] 5.2 상품 상세 페이지 완성
    - ProductDetailScreen의 실제 데이터 연동
    - 구매하기/대신팔기 버튼 기능 구현
    - 판매자 정보 표시 및 채팅 연결
    - _요구사항: 4.1_

### Phase 2: 핵심 비즈니스 로직 (2-3주)

- [x] **6. 개인 샵 시스템 구현**
  - [x] 6.1 샵 생성 및 관리
    - 회원가입 시 자동 Shop 생성 로직
    - MyShopScreen의 실제 데이터 연동
    - 샵 정보 수정 및 공유 URL 생성
    - _요구사항: 3.1, 8.3, 8.4_

  - [x] 6.2 대신팔기 기능 구현
    - 상품을 내 샵에 추가하는 대신팔기 로직
    - 수수료 계산 및 표시 기능
    - 대신팔기 상품 관리 기능
    - _요구사항: 3.1, 3.2, 3.5_

- [x] **7. 거래 시스템 구현**
  - [x] 7.1 거래 생성 및 관리
    - Transaction 모델 기반 거래 생성
    - 거래 상태 관리 (거래중/거래완료)
    - 거래 내역 조회 기능
    - _요구사항: 8.5, 7.3_

  - [x] 7.2 마이페이지 거래 관리
    - 구매/판매/대신팔기 내역 구분 표시
    - 거래 상태별 필터링
    - 내 상품 관리 기능
    - _요구사항: 8.1, 8.2_

### Phase 3: 안전거래 및 고급 기능 (3-4주)

- [x] **8. 안전거래 시스템 구현**
  - [x] 8.1 안전거래 프로세스
    - SafeTransaction 모델 기반 안전거래 관리
    - 입금확인 요청 및 SMS 발송 기능
    - 배송 확인 및 정산 처리 로직
    - _요구사항: 6.1, 6.2, 6.3_

  - [x] 8.2 SMS 알림 시스템
    - SMS 서비스 연동 및 템플릿 관리
    - 각 단계별 자동 SMS 발송
    - SMS 발송 로그 및 실패 처리
    - _요구사항: 5.4, 6.1, 6.2, 6.3_

- [x] **9. 리뷰 시스템 구현**
  - [x] 9.1 리뷰 작성 및 관리
    - 거래 완료 후 리뷰 작성 기능
    - 상호 리뷰 시스템 (판매자↔구매자, 대신판매자↔상품등록자)
    - 사용자 프로필 리뷰 목록 표시
    - _요구사항: 7.1, 7.2, 7.4, 7.5_

### Phase 4: 웹 인터페이스 완성 (1-2주)

- [-] **10. 웹 키오스크 기능 완성**
  - [x] 10.1 상품 상세 페이지 및 QR 연결
    - 웹 상품 상세 페이지 완성
    - 구매하기/대신팔기 버튼 클릭 시 QR 팝업
    - 앱 설치 안내 및 연결 기능
    - _요구사항: 10.3, 10.4_

- [-] **11. 관리자 시스템 완성**
  - [x] 11.1 안전거래 관리 시스템
    - 입금확인 요청 알림 및 처리
    - 안전거래 상태 관리 대시보드
    - 정산 처리 단계별 관리
    - _요구사항: 9.2, 9.3, 9.4, 9.5_

## 📋 **기존 완료된 작업**

- [x] **데이터베이스 스키마 설계** ✅
  - Supabase 프로젝트 및 테이블 구조 완성
  - 모든 필요한 테이블 생성 완료
  - _요구사항: 1.4, 1.5_

- [x] **Flutter 기본 구조** ✅
  - 모든 화면 UI 기본 구조 완성
  - 데이터 모델 클래스 구현 완료
  - 서비스 클래스 기본 구조 완성
  - _요구사항: 전체_

- [x] **웹 인터페이스 기본 구조** ✅
  - Next.js 키오스크 홈페이지 완성
  - 관리자 대시보드 기본 구조 완성
  - _요구사항: 10.1, 11.1_

## 🎯 **다음 실행할 태스크 추천**

**즉시 시작 가능한 태스크:**
1. **1.1 카카오 로그인 실제 연동** - 인증 시스템의 핵심
2. **2.1 ProductProvider Mock 데이터 제거** - 상품 기능의 기반
3. **3.1 채팅 기본 기능 구현** - 핵심 비즈니스 로직

이 3개 태스크를 완료하면 앱의 기본적인 동작이 가능해집니다.